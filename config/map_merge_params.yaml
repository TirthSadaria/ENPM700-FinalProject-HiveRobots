# Multi-Robot Map Merge Configuration
# Reference: https://github.com/robo-friends/m-explore-ros2

map_merge:
  ros__parameters:
    # ==========================================
    # General Parameters  
    # ==========================================
    merging_rate: 2.0           # Hz - how often to merge maps
    discovery_rate: 2.0         # Hz - how often to discover new robots (increased for faster discovery)
    estimation_rate: 2.0        # Hz - pose estimation rate (increased for faster alignment)
    
    # USE ESTIMATION MODE - feature-based auto-alignment
    # NOTE: init_pose mode requires complex parameter setup in robot namespaces
    # Estimation mode works reliably and will align maps automatically
    # IMPORTANT: This must be false to disable init_pose checking
    known_init_poses: false
    estimation_confidence: 0.2  # Lower = faster matching, 0.1 is most permissive for quick merging
    
    # Topic names (without namespace)
    robot_map_topic: "map"
    robot_map_updates_topic: "map_updates"
    merged_map_topic: "map"
    world_frame: "world"
    
    # Prefix to match robot namespaces (tb1, tb2, etc.)
    robot_namespace: "tb"
    
    # ==========================================
    # Initial Poses for Each Robot
    # Must match SPAWN_POSITIONS in generate_world.py
    # Format: /<robot_ns>/map_merge/init_pose_x, y, z, yaw
    # ==========================================

